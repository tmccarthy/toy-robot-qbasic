100 INPUT COMM$
110 IF LEFT$(COMM$, 5) = "PLACE" GOTO 500
120 IF COMM$ = "MOVE" GOTO 600
130 IF COMM$ = "LEFT" GOTO 700
140 IF COMM$ = "RIGHT" GOTO 800
150 IF COMM$ = "REPORT" GOTO 900
160 IF COMM$ = "QUIT" GOTO 999999
80 GOTO 100
500 IF (LEN(COMM$) <> 15 AND LEN(COMM$) <> 14) OR MID$(COMM$, 8, 1) <> ";" OR MID$(COMM$, 10, 1) <> ";" GOTO 100
510 LET X = VAL(MID$(COMM$, 7, 1))
520 LET Y = VAL(MID$(COMM$, 9, 1))
530 LET FACING$ = RIGHT$(COMM$, 11)
540 GOTO 100
600 IF FACING$ = "NORTH" GOTO 1000
610 IF FACING$ = "SOUTH" GOTO 1100
620 IF FACING$ = "EAST" GOTO 1200
630 IF FACING$ = "WEST" GOTO 1300
640 GOTO 100
700 IF FACING$ = "NORTH" GOTO 3000
710 IF FACING$ = "SOUTH" GOTO 3100
720 IF FACING$ = "EAST" GOTO 3200
730 IF FACING$ = "WEST" GOTO 3300
740 GOTO 100
800 IF FACING$ = "NORTH" GOTO 3100
810 IF FACING$ = "SOUTH" GOTO 3000
820 IF FACING$ = "EAST" GOTO 3300
830 IF FACING$ = "WEST" GOTO 3200
840 GOTO 100
900 PRINT X,Y,FACING$
910 GOTO 100
1000 LET Y = Y + 1
1010 IF Y > 4 GOTO 2000
1020 GOTO 100
1100 LET Y = Y - 1
1110 IF Y < 0 GOTO 2100
1120 GOTO 100
1200 LET X = X + 1
1210 IF X > 4 GOTO 2200
1220 GOTO 100
1300 LET X = X - 1
1310 IF X < 0 GOTO 2300
1320 GOTO 100
2000 LET Y = 0
2010 GOTO 100
2100 LET Y = 4
2110 GOTO 100
2200 LET X = 0
2210 GOTO 100
2300 LET X = 4
2310 GOTO 100
3000 LET FACING$ = "WEST"
3010 GOTO 100
3100 LET FACING$ = "EAST"
3110 GOTO 100
3200 LET FACING$ = "NORTH"
3210 GOTO 100
3300 LET FACING$ = "SOUTH"
3310 GOTO 100
999999 END