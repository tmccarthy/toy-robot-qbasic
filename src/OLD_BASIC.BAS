10 LET X_SIZE = 5
20 LET Y_SIZE = 5
100 INPUT COMM$
110 IF LEFT$(COMM$, 5) = "PLACE" GOTO 500
120 IF COMM$ = "MOVE" GOTO 600
130 IF COMM$ = "LEFT" GOTO 700
140 IF COMM$ = "RIGHT" GOTO 800
150 IF COMM$ = "REPORT" GOTO 900
160 IF COMM$ = "QUIT" GOTO 999999
80 GOTO 100
500 IF (LEN(COMM$) <> 15 AND LEN(COMM$) <> 14) OR MID$(COMM$, 8, 1) <> ";" OR MID$(COMM$, 10, 1) <> ";" GOTO 100
510 LET X_BUFFER = VAL(MID$(COMM$, 7, 1))
520 LET Y_BUFFER = VAL(MID$(COMM$, 9, 1))
530 LET FACING_BUFFER$ = MID$(COMM$, 11, 5)
540 IF X_BUFFER < 0 OR X_BUFFER > (X_SIZE - 1) OR Y_BUFFER < 0 OR Y_BUFFER > (Y_SIZE - 1) GOTO 100
550 IF NOT (FACING_BUFFER$ = "NORTH" OR FACING_BUFFER$ = "SOUTH" OR FACING_BUFFER$ = "EAST" OR FACING_BUFFER$ = "WEST") GOTO 100
560 LET X = X_BUFFER
570 LET Y = Y_BUFFER
580 LET FACING$ = FACING_BUFFER$
590 GOTO 100
600 IF FACING$ = "NORTH" GOTO 1000
610 IF FACING$ = "SOUTH" GOTO 1100
620 IF FACING$ = "EAST" GOTO 1200
630 IF FACING$ = "WEST" GOTO 1300
640 GOTO 100
700 IF FACING$ = "NORTH" GOTO 3000
710 IF FACING$ = "SOUTH" GOTO 3100
720 IF FACING$ = "EAST" GOTO 3200
730 IF FACING$ = "WEST" GOTO 3300
740 GOTO 100
800 IF FACING$ = "NORTH" GOTO 3100
810 IF FACING$ = "SOUTH" GOTO 3000
820 IF FACING$ = "EAST" GOTO 3300
830 IF FACING$ = "WEST" GOTO 3200
840 GOTO 100
900 IF FACING$ = "" GOTO 100
910 PRINT X "," Y "," FACING$
920 GOTO 100
1000 IF Y < (Y_SIZE - 1) GOTO 2000
1010 GOTO 100
1100 IF Y > 0 GOTO 2100
1110 GOTO 100
1200 IF X < (X_SIZE - 1) GOTO 2200
1210 GOTO 100
1300 IF X > 0 GOTO 2300
1310 GOTO 100
2000 LET Y = Y + 1
2010 GOTO 100
2100 LET Y = Y - 1
2110 GOTO 100
2200 LET X = X + 1
2210 GOTO 100
2300 LET X = X - 1
2310 GOTO 100
3000 LET FACING$ = "WEST"
3010 GOTO 100
3100 LET FACING$ = "EAST"
3110 GOTO 100
3200 LET FACING$ = "NORTH"
3210 GOTO 100
3300 LET FACING$ = "SOUTH"
3310 GOTO 100
999999 END